<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<title>Bulbizarre Meute</title>
<style>
  body {
    height: 100vh;
    margin: 0;
    overflow: hidden;
    background: #f0f0f0;
  }

  .bulbizarre {
    position: absolute;
    width: 50px;
    height: auto;
    pointer-events: none; /* ne bloque pas les clics */
    transition: transform 0.1s linear;
  }
</style>
</head>
<body>

<!-- On peut ajouter autant de Bulbizarre qu'on veut -->
<img class="bulbizarre" src="bulbizarre.png" alt="Bulbizarre">
<img class="bulbizarre" src="bulbizarre.png" alt="Bulbizarre">
<img class="bulbizarre" src="bulbizarre.png" alt="Bulbizarre">
<img class="bulbizarre" src="bulbizarre.png" alt="Bulbizarre">

<script>
const bulbs = document.querySelectorAll('.bulbizarre');
let mouseX = 0;
let mouseY = 0;

// Stocke la position de chaque Bulbizarre
let positions = Array.from(bulbs).map(() => ({x: 0, y: 0}));

document.addEventListener('mousemove', (e) => {
    mouseX = e.clientX;
    mouseY = e.clientY;
});

function animate() {
    bulbs.forEach((bulb, i) => {
        // cible : souris pour le premier Bulbizarre, le précédent pour les autres
        const targetX = i === 0 ? mouseX : positions[i-1].x;
        const targetY = i === 0 ? mouseY : positions[i-1].y;

        // interpole la position (effet “suivi”)
        positions[i].x += (targetX - positions[i].x) * 0.1;
        positions[i].y += (targetY - positions[i].y) * 0.1;

        // rotation légère selon la direction
        const dx = targetX - positions[i].x;
        const dy = targetY - positions[i].y;
        const angle = Math.atan2(dy, dx) * 180 / Math.PI;

        bulb.style.transform = `translate(${positions[i].x - 40}px, ${positions[i].y - 40}px) rotate(${angle}deg)`;
    });

    requestAnimationFrame(animate);
}

animate();
</script>

</body>
</html>
